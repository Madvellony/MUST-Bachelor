<!DOCTYPE html>
<html>
<body>
  <canvas id="canvas" width="400" height="400" style="background-color:#333"></canvas>
  <br>
  <input type="number" id="hourInput" min="0" max="23" value="0"> :
  <input type="number" id="minuteInput" min="0" max="59" value="0">
  <button onclick="adjustTime()">Тохируулах</button>
  <button onclick="changeClockColor()">Цагийн өнгийг өөрчлөх</button>
  <script>
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    let radius = canvas.height / 2;
    ctx.translate(radius, radius);
    radius = radius * 0.90;
    let clockColor = '#333';
    let handColor = 'white';
    let clockDesign = 2; 

    setInterval(drawClock, 1000);

    function drawClock() {
      drawFace(ctx, radius);
      drawNumbers(ctx, radius);
      drawTime(ctx, radius);
    }

    function drawFace(ctx, radius) {
      drawSquareFace(ctx, radius);
    }

    function drawSquareFace(ctx, radius) {
      ctx.beginPath();
      ctx.rect(-radius, -radius, radius * 2, radius * 2);
      ctx.fillStyle = handColor;
      ctx.fill();
      ctx.strokeStyle = clockColor;
      ctx.lineWidth = radius * 0.1;
      ctx.stroke();
      ctx.beginPath();
      ctx.rect(-radius * 0.1, -radius * 0.1, radius * 0.2, radius * 0.2);
      ctx.fillStyle = clockColor;
      ctx.fill();
    }

    function drawNumbers(ctx, radius) {
      ctx.font = radius * 0.15 + "px arial";
      ctx.textBaseline = "middle";
      ctx.textAlign = "center";
      for (let num = 1; num < 13; num++) {
        let ang = num * Math.PI / 6;
        ctx.rotate(ang);
        ctx.translate(0, -radius * 0.85);
        ctx.rotate(-ang);
        ctx.fillText(num.toString(), 0, 0);
        ctx.rotate(ang);
        ctx.translate(0, radius * 0.85);
        ctx.rotate(-ang);
      }
    }

    function drawTime(ctx, radius) {
      let hour = document.getElementById("hourInput").value;
      let minute = document.getElementById("minuteInput").value;
      let second = new Date().getSeconds();

      //tsag
      hour = hour % 12;
      hour = (hour * Math.PI / 6) + (minute * Math.PI / (6 * 60)) + (second * Math.PI / (360 * 60));
      drawHand(ctx, hour, radius * 0.5, radius * 0.07);

      //minute
      minute = (minute * Math.PI / 30) + (second * Math.PI / (30 * 60));
      drawHand(ctx, minute, radius * 0.8, radius * 0.07);

      //second
      second = (second * Math.PI / 30);
      drawHand(ctx, second, radius * 0.9, radius * 0.02);
    }

    function drawHand(ctx, pos, length, width) {
      ctx.beginPath();
      ctx.lineWidth = width;
      ctx.lineCap = "round";
      ctx.moveTo(0, 0);
      ctx.rotate(pos);
      ctx.lineTo(0, -length);
      ctx.stroke();
      ctx.rotate(-pos);
    }

    function adjustTime() {
      let hourInput = document.getElementById("hourInput");
      let minuteInput = document.getElementById("minuteInput");
      let hour = parseInt(hourInput.value);
      let minute = parseInt(minuteInput.value);

      drawClock();
    }

    function changeClockColor() {
      let newClockColor = prompt("EЦагийн шинэ өнгийг оруулна уу (hex код эсвэл өнгөний нэр):");
      if (newClockColor) {
        clockColor = newClockColor;
        drawClock();
      }
    }

    document.addEventListener("keydown", function(event) {
      switch (event.key.toLowerCase()) {
        case "r":
          clockColor = '#800000';
          handColor = '#ff0000';
          break;
        case "b":
          clockColor = '#000080';
          handColor = '#0000ff';
          break;
        case "g":
          clockColor = '#008000';
          handColor = '#00ff00';
          break;
        default:
          break;
      }
      drawClock();
    });
  </script>
</body>
</html>
